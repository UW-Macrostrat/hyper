{"version":3,"file":"index.ts","sources":["../../src/index.ts"],"sourcesContent":["/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nimport hyperScript from 'react-hyperscript';\n\ntype H = typeof hyperScript\ntype HParams = Parameters<H>\n\ninterface Styles {\n  [k: string]: string\n}\n\ninterface Hyper {\n  (...args: HParams): ReturnType<H>,\n  styled(v: Styles): Hyper,\n  if(v: boolean): Hyper\n}\n\nconst hyper: Hyper = function(...args: HParams){\n  return hyperScript(...args)\n}\n\nhyper.if = null\n\nconst applyIf = function(h) {\n  h.if = function(v: boolean){\n    // Only renders component if condition is met\n    if (v) { return h; } else { return () => null; }\n  };\n  return h;\n};\n\napplyIf(hyper);\n\nhyper.styled = function(styles: Styles){\n  const h = function() {\n    const el = hyper.apply(this,arguments);\n    const {props} = el;\n    if (!(\"className\" in props)) { return el; }\n\n    let hasChanges = false;\n    const newClasses = props.className.split(\" \").map(function(d){\n      if (d in styles) {\n        hasChanges = true;\n        return styles[d];\n      }\n      return d;\n    });\n\n    if (!hasChanges) { return el; }\n\n    // Create a new react element with local style substitutions\n    return {\n      ...el,\n      props: {\n        ...props,\n        className: newClasses.join(\" \")\n      }\n    };\n  };\n\n  return applyIf(h);\n};\n\nconst hyperIf = hyper.if;\nconst hyperStyled = hyper.styled;\n\nexport default hyper;\nexport {compose, C} from './compose';\nexport {classed, addClassNames} from './classed';\nexport {hyperIf, hyperStyled, applyIf};\n"],"names":["hyper","hyperScript","applyIf","h","v","styled","styles","el","apply","arguments","props","hasChanges","newClasses","className","split","map","d","join","hyperIf","hyperStyled"],"mappings":";;;;;AAoBA,IAAMA,KAAY,GAAG,SAAfA,KAAe,GAA0B;SACtCC,CAAW,MAAX,mBAAP;CADF;;AAIAD,KAAK,MAAL,GAAW,IAAX;;AAEA,IAAME,OAAO,GAAG,SAAVA,OAAU,CAASC,CAAT,EAAY;EAC1BA,CAAC,MAAD,GAAO,UAASC,CAAT,EAAoB;;QAErBA,CAAJ,EAAO;aAASD,CAAP;KAAT,MAA0B;aAAS;eAAM,IAAN;OAAP;;GAF9B;;SAIOA,CAAP;CALF;;AAQAD,OAAO,CAACF,KAAD,CAAP;;AAEAA,KAAK,CAACK,MAAN,GAAe,UAASC,MAAT,EAAwB;MAC/BH,CAAC,GAAG,SAAJA,CAAI,GAAW;QACbI,EAAE,GAAGP,KAAK,CAACQ,KAAN,CAAY,IAAZ,EAAiBC,SAAjB,CAAX;QACOC,KAFY,GAEHH,EAFG,CAEZG,KAFY;;QAGf,EAAE,eAAeA,KAAjB,CAAJ,EAA6B;aAASH,EAAP;;;QAE3BI,UAAU,GAAG,KAAjB;QACMC,UAAU,GAAGF,KAAK,CAACG,SAAN,CAAgBC,KAAhB,CAAsB,GAAtB,EAA2BC,GAA3B,CAA+B,UAASC,CAAT,EAAW;UACvDA,CAAC,IAAIV,MAAT,EAAiB;QACfK,UAAU,GAAG,IAAb;eACOL,MAAM,CAACU,CAAD,CAAb;;;aAEKA,CAAP;KALiB,CAAnB;;QAQI,CAACL,UAAL,EAAiB;aAASJ,EAAP;KAdA;;;8BAkBdA,EADL;MAEEG,KAAK,qBACAA,KADA;QAEHG,SAAS,EAAED,UAAU,CAACK,IAAX,CAAgB,GAAhB;;;GArBjB;;SA0BOf,OAAO,CAACC,CAAD,CAAd;CA3BF;;AA8BA,IAAMe,OAAO,GAAGlB,KAAK,MAArB;AACA,IAAMmB,WAAW,GAAGnB,KAAK,CAACK,MAA1B;;;;;"}