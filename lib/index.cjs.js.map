{"version":3,"file":"index.cjs.js","sources":["../src/compose.ts","../src/classed.ts","../src/index.ts"],"sourcesContent":["/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * DS207: Consider shorter variations of null checks\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nimport h from 'react-hyperscript';\n\nconst compose = (...args) => (function(props) {\n  let c;\n  const components = [...args];\n  // Compose a series of react components\n  let child = h(components.pop(), props);\n  while ((c = components.pop()) != null) {\n    child = h(c, null, child);\n  }\n  return child;\n});\n\nexport {compose};\n","/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nimport classNames from 'classnames';\nimport h from 'react-hyperscript';\n\ntype ClassNames = Parameters<typeof classNames>\n\nconst addClassNames = function(props, ...addedClassNames: ClassNames){\n  let {className, ...rest} = props;\n  className = classNames(className, ...addedClassNames);\n  return {className, ...rest};\n};\n\nconst classed = (component, ...addedClassNames: ClassNames) => (function(props) {\n    const newProps = addClassNames(props, ...addedClassNames);\n    return h(component, newProps);\n});\n\nexport {classed, addClassNames};\n","/*\n * decaffeinate suggestions:\n * DS102: Remove unnecessary code created because of implicit returns\n * Full docs: https://github.com/decaffeinate/decaffeinate/blob/master/docs/suggestions.md\n */\nimport hyperScript from 'react-hyperscript';\n\ntype H = typeof hyperScript\ntype HParams = Parameters<H>\n\ninterface Styles {\n  [k: string]: string\n}\n\ninterface Hyper {\n  (...args: HParams): ReturnType<H>,\n  styled(v: Styles): Hyper,\n  if(v: boolean): Hyper\n}\n\nconst hyper: Hyper = function(...args: HParams){\n  return hyperScript(...args)\n}\n\nhyper.if = null\n\nconst applyIf = function(h) {\n  h.if = function(v: boolean){\n    // Only renders component if condition is met\n    if (v) { return h; } else { return () => null; }\n  };\n  return h;\n};\n\napplyIf(hyper);\n\nhyper.styled = function(styles: Styles){\n  const h = function() {\n    const el = hyper.apply(this,arguments);\n    const {props} = el;\n    if (!(\"className\" in props)) { return el; }\n\n    let hasChanges = false;\n    const newClasses = props.className.split(\" \").map(function(d){\n      if (d in styles) {\n        hasChanges = true;\n        return styles[d];\n      }\n      return d;\n    });\n\n    if (!hasChanges) { return el; }\n\n    // Create a new react element with local style substitutions\n    return {\n      ...el,\n      props: {\n        ...props,\n        className: newClasses.join(\" \")\n      }\n    };\n  };\n\n  return applyIf(h);\n};\n\nconst hyperIf = hyper.if;\nconst hyperStyled = hyper.styled;\n\nexport default hyper;\nexport {compose} from './compose';\nexport {classed, addClassNames} from './classed';\nexport {hyperIf, hyperStyled, applyIf};\n"],"names":["compose","args","props","c","components","child","h","pop","addClassNames","className","rest","addedClassNames","classNames","classed","component","newProps","hyper","hyperScript","applyIf","v","styled","styles","el","apply","arguments","hasChanges","newClasses","split","map","d","join","hyperIf","hyperStyled"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;AAMA;AAEA,IAAMA,OAAO,GAAG,SAAVA,OAAU;oCAAIC,IAAJ;IAAIA,IAAJ;;;SAAc,UAASC,KAAT,EAAgB;QACxCC,CAAJ;QACMC,UAAU,aAAOH,IAAP,CAAhB,CAF4C;;QAIxCI,KAAK,GAAGC,CAAC,CAACF,UAAU,CAACG,GAAX,EAAD,EAAmBL,KAAnB,CAAb;;WACO,CAACC,CAAC,GAAGC,UAAU,CAACG,GAAX,EAAL,KAA0B,IAAjC,EAAuC;MACrCF,KAAK,GAAGC,CAAC,CAACH,CAAD,EAAI,IAAJ,EAAUE,KAAV,CAAT;;;WAEKA,KAAP;GARc;CAAhB;;ICEMG,aAAa,GAAG,SAAhBA,aAAgB,CAASN,KAAT,EAA+C;MAC9DO,SAD8D,GACxCP,KADwC,CAC9DO,SAD8D;MAChDC,IADgD,4BACxCR,KADwC;;oCAA5BS,eAA4B;IAA5BA,eAA4B;;;EAEnEF,SAAS,GAAGG,UAAU,MAAV,UAAWH,SAAX,SAAyBE,eAAzB,EAAZ;;IACQF,SAAS,EAATA;KAAcC,IAAtB;CAHF;;AAMA,IAAMG,OAAO,GAAG,SAAVA,OAAU,CAACC,SAAD;qCAAeH,eAAf;IAAeA,eAAf;;;SAAgD,UAAST,KAAT,EAAgB;QACtEa,QAAQ,GAAGP,aAAa,MAAb,UAAcN,KAAd,SAAwBS,eAAxB,EAAjB;WACOL,CAAC,CAACQ,SAAD,EAAYC,QAAZ,CAAR;GAFY;CAAhB;;ACIA,IAAMC,KAAY,GAAG,SAAfA,KAAe,GAA0B;SACtCC,CAAW,MAAX,mBAAP;CADF;;AAIAD,KAAK,MAAL,GAAW,IAAX;;AAEA,IAAME,OAAO,GAAG,SAAVA,OAAU,CAASZ,CAAT,EAAY;EAC1BA,CAAC,MAAD,GAAO,UAASa,CAAT,EAAoB;;QAErBA,CAAJ,EAAO;aAASb,CAAP;KAAT,MAA0B;aAAS;eAAM,IAAN;OAAP;;GAF9B;;SAIOA,CAAP;CALF;;AAQAY,OAAO,CAACF,KAAD,CAAP;;AAEAA,KAAK,CAACI,MAAN,GAAe,UAASC,MAAT,EAAwB;MAC/Bf,CAAC,GAAG,SAAJA,CAAI,GAAW;QACbgB,EAAE,GAAGN,KAAK,CAACO,KAAN,CAAY,IAAZ,EAAiBC,SAAjB,CAAX;QACOtB,KAFY,GAEHoB,EAFG,CAEZpB,KAFY;;QAGf,EAAE,eAAeA,KAAjB,CAAJ,EAA6B;aAASoB,EAAP;;;QAE3BG,UAAU,GAAG,KAAjB;QACMC,UAAU,GAAGxB,KAAK,CAACO,SAAN,CAAgBkB,KAAhB,CAAsB,GAAtB,EAA2BC,GAA3B,CAA+B,UAASC,CAAT,EAAW;UACvDA,CAAC,IAAIR,MAAT,EAAiB;QACfI,UAAU,GAAG,IAAb;eACOJ,MAAM,CAACQ,CAAD,CAAb;;;aAEKA,CAAP;KALiB,CAAnB;;QAQI,CAACJ,UAAL,EAAiB;aAASH,EAAP;KAdA;;;8BAkBdA,EADL;MAEEpB,KAAK,qBACAA,KADA;QAEHO,SAAS,EAAEiB,UAAU,CAACI,IAAX,CAAgB,GAAhB;;;GArBjB;;SA0BOZ,OAAO,CAACZ,CAAD,CAAd;CA3BF;;AA8BA,IAAMyB,OAAO,GAAGf,KAAK,MAArB;AACA,IAAMgB,WAAW,GAAGhB,KAAK,CAACI,MAA1B;;;;;;;;;;"}